<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
<title>
Zequez -
Pequeño snippet para debuggear velocidad de código en PHP
</title>
<!-- = current_page.data.title || (defined?(project) && project.name) -->
<link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
<link href="/stylesheets/all.css" rel="stylesheet" type="text/css" />
<link href='/favicon.ico?v=6' rel='icon' type='image/x-icon'>
</head>
<body class='x2011 x2011_03 x2011_03_03 x2011_03_03_pequeno-snippet-para-debuggear-velocidad-de-codigo-en-php x2011_03_03_pequeno-snippet-para-debuggear-velocidad-de-codigo-en-php_index'>
<div class='container'>
<header class='header'>
<h1 class='author'>
<a href='/'>Zequez</a>
</h1>
<p class='slogan'>Just a place to write about the stuff I make, do, think, and maybe eat</p>
</header>
<nav class='sidebar' id='sidebar'>
<div class='sidebar-overlay' id='sidebar-overlay'></div>
<div class='sidebar-button' id='sidebar-button'></div>
<section class='sidebar-section'>
<h1>
<a href='/projects'>Personal Projects</a>
</h1>
<ul class='projects-list'>
<li>
<a href='/projects/ggfilter'>
GGFilter.com
<small>(late-2016)</small>
</a>
</li>
<li>
<a href='/projects/factorio-mods'>
FactorioMods.com
<small>(mid-2015)</small>
</a>
</li>
<li>
<a href='/projects/zequez-blog'>
Zequez blog (this website)
<small>(mid-2015)</small>
</a>
</li>
<li>
<a href='/projects/prismata-subreddit-extension'>
Prismata Subreddit Extension
<small>(late-2014)</small>
</a>
</li>
<li>
<a href='/projects/playtime-for-the-buck'>
Playtime For The Buck
<small>(mid-2014)</small>
</a>
</li>
<li>
<a href='/projects/mapa-de-transporte'>
Mapa de Transporte
<small>(mid-2012)</small>
</a>
</li>
<li>
<a href='/projects/comicsen'>
Comicsen
<small>(late-2011)</small>
</a>
</li>
<li>
<a href='/projects/target-shooter'>
Target Shooter
<small>(early-2011)</small>
</a>
</li>
<li>
<a href='/projects/series-follower'>
Series Follower
<small>(early-2011)</small>
</a>
</li>
<li>
<a href='/projects/qembole'>
Qembole!
<small>(2009-2010)</small>
</a>
</li>
</ul>
<h1>
<a href='/'>Blog posts</a>
</h1>
<h1>
<a href='/about-me'>About me / Contact</a>
</h1>
</section>
</nav>
<main class='main'>
<article>
<h1>
Pequeño snippet para debuggear velocidad de código en PHP
<small>-  3 Mar 2011</small>
</h1>
<p>Si sos como yo, que -todavía- no usa xDebug en PHP pero querés saber por qué tu script anda lento, y escribir microtime() cada 5 líneas te tiene harto, entonces usá esta pequeñísima función que lo único que tenés que hacer es llamarla con un nombre y listo.</p>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">lap</span><span class="p">(</span><span class="nv">$name</span> <span class="o">=</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">static</span> <span class="nv">$last</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nv">$now</span> <span class="o">=</span> <span class="nb">microtime</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$name</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"Lap </span><span class="nv">$name</span><span class="s2"> "</span> <span class="o">.</span> <span class="p">(</span><span class="nv">$now</span><span class="o">-</span><span class="nv">$last</span><span class="p">)</span> <span class="o">.</span> <span class="s2">" seconds!&lt;br/&gt;</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nv">$last</span> <span class="o">=</span> <span class="nv">$now</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre>
<p>El uso sería así:</p>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nx">lap</span><span class="p">();</span>
<span class="nx">funcionQueTardaPoco</span><span class="p">();</span>
<span class="nx">lap</span><span class="p">(</span><span class="s1">'primer función'</span><span class="p">);</span>
<span class="nx">funcionQueTardaMucho</span><span class="p">();</span>
<span class="nx">lap</span><span class="p">(</span><span class="s1">'segunda funcion'</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<p>Y el resultado sería algo así:</p>
<pre class="highlight plaintext"><code>Lap primer función 0.0090179443359375 seconds!
Lap segunda función 1.4245828127234901 seconds!
</code></pre>
<p>Me pareció útil así que la postié xD</p>

<div class='article-tags'>
<strong>Tags:</strong>
<a href="/tag/php">php</a>
<a href="/tag/scripts">scripts</a>
</div>
</article>

</main>
<footer class='footer'>
<a href='/about-me'>
Zequez
</a>
<span class='copy'>
&copy;
</span>
2017 - Kindly hosted by
<a href='https://pages.github.com/'>Github pages</a>
</footer>
</div>
<script src="/javascripts/all.js" type="text/javascript"></script>
</body>
</html>
